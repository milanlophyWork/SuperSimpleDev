<!DOCTYPE thml>
<html>
    <head>
        <title>Todo List</title>
    </head>
    <body>
        <p>Todo List</p>

        <input type="text" placeholder="Todo name" class="js-todo">
        <input type="date" class="js-date">
        <button class="js-add">Add</button>

        <div class="js-displayTodo"></div>

        <script>
            let todoList = []

            function renderTodoList(){
                let html = ''

                todoList.forEach((value)=> {
                    const {name, dueDate} = value

                    html += `
                        <div>${name}</div>
                        <div>${dueDate}</div>
                        <button class = "js-delete">Delete</button>
                    `

                })
                document.querySelector('.js-displayTodo').innerHTML = html

                document.querySelectorAll('.js-delete')
                    .forEach((deleteBtn)=> {
                        deleteBtn.addEventListener('click',(index)=> {
                            todoList.splice(index,1)
                            renderTodoList()
                        })
                    }) 
            }

            document.querySelector('.js-add').addEventListener('click', ()=> addTodo())

            function addTodo(){
                const inputElement = document.querySelector('.js-todo')
                const dateElement = document.querySelector('.js-date')

                const name = inputElement.value
                const dueDate = dateElement.value

                todoList.push({
                    name,
                    dueDate
                })

                renderTodoList()

                inputElement.value = ''
                dateElement.value = ''
            }
        </script>
    </body>
</html>